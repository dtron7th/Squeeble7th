<!DOCTYPE html>
<html lang="en">
<head style="display: none;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200..900&display=swap" rel="stylesheet">


    <!--Book_Mark: Root_System-->

    <!-- :Root -->
    <style aria-label="Root">
        :root {

            --Main_UI_Color: rgba(0, 0, 0, 0.2);
            --Header_UI_Color: rgba(0, 0, 0, 0);
            --Main_UI_Blur: 30px;
            --Main_UI_Border: 1px solid rgba(255, 255, 255, 0.178);
            
            --Main_UI_Border_Radius_Window: 0px;
            --Main_UI_Border_Radius_Button: 0px;

            --Main_Text_Color: rgb(255, 255, 255);

            --Main_Font_Size: 11px;

            --Box_Shadow: 0px 0px 10px rgba(0, 0, 0, 0.6);
            
        }
    </style>



    <!--Book_Mark: UI_Build-->
    <!-- UI -->
    <div aria-label="Build_UI">

        <!--Window-->
        <div class="Window">
            <div class="Header">
                <p class="Title"></p>
                <div class="Window_Manipulation">
                    <button class="Minimize"></button>
                    <button class="Maximize"></button>
                    <button class="Close"></button>
                </div>
            </div>
            <div class="Content">
                
            </div>
        </div>

        <!--Panel-->
        <div class="Panel">
            <div class="Panel_Buttons">

            </div>
            <style aria-label="Panel">
                .Panel {
                    position: absolute;
                    background-color: var(--Main_UI_Color);
                    backdrop-filter: blur(var(--Main_UI_Blur));
                    border: var(--Main_UI_Border);
                    border-radius: var(--Main_UI_Border_Radius_Window);
                    box-shadow: var(--Box_Shadow);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }

                .Panel > .Title {
                    position: absolute;
                    top: 10px;
                    color: var(--Main_Text_Color);
                    font-size: var(--Main_Font_Size);
                }
            </style>
        </div>
    </div>

    <!--Book_Mark: Main_Style-->
        
    <!-- Main -->
    <style aria-label="Main">
        * {
            padding: 0px;
            margin: 0px;
            font-family: "Inconsolata", monospace;
        }
    </style>
    
    <!--Book_Mark: UI_Style-->
    
    <!-- Main UI -->
    <style aria-label="UI">

        button {
            border: none;
            outline: none;
            background: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: var(--Main_Font_Size);
            border-radius: var(--Main_UI_Border_Radius_Button);
            color: var(--Main_Text_Color);
            -webkit-tap-highlight-color: transparent;
        }

        button:active {
            background-color: var(--Main_UI_Color);
        }

        .Window {
            position: absolute;
            overflow: hidden;
            background-color: var(--Main_UI_Color);
            backdrop-filter: blur(var(--Main_UI_Blur));
            border: var(--Main_UI_Border);
            border-radius: var(--Main_UI_Border_Radius_Window);
            box-shadow: var(--Box_Shadow);
        }

        .Window > .Header {
            width: 100%;
            height: 30px;
            background-color: var(--Header_UI_Color);
            display: flex;
            align-items: center;
        }

        .Window > .Header > .Title {
            position: absolute;
            left: 10px;
            color: var(--Main_Text_Color);
            font-size: var(--Main_Font_Size);
        }

        .Window > .Header > .Window_Manipulation {
            position: absolute;
            right: 10px;
            display: flex;
            gap: 10px;
        }

        .Window > .Header > .Window_Manipulation > button {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .Window > .Header > .Window_Manipulation > .Minimize {
            background-color: rgb(255, 255, 0);
        }

        .Window > .Header > .Window_Manipulation > .Maximize {
            background-color: rgb(0, 255, 0);
        }

        .Window > .Header > .Window_Manipulation > .Close {
            background-color: rgb(255, 0, 0);
        }

        
    </style>
    
    <!-- Prefabs -->
    <div class="Prefab">
        <div class="Build">

        </div>
        <style>

        </style>
        <Script>

        </Script>
    </div>

    <!--Book_Mark: Window_Manager-->

    <Script aria-label="Window_Manager">

        //Dragging system (Desktop and mobile)        


        //.Window
        (function() {
            let isDragging = false;
            let currentWindow = null;
            let offsetX = 0;
            let offsetY = 0;

            function clampPosition(x, y, element) {
                const rect = element.getBoundingClientRect();
                const maxX = window.innerWidth - rect.width;
                const maxY = window.innerHeight - rect.height;
                return {
                    x: Math.max(0, Math.min(x, maxX)),
                    y: Math.max(0, Math.min(y, maxY))
                };
            }

            document.addEventListener('mousedown', function(e) {
                const win = e.target.closest('.Window');
                if (win && !e.target.closest('.Window_Manipulation')) {
                    currentWindow = win;
                    isDragging = true;
                    const rect = currentWindow.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                    currentWindow.style.cursor = 'grabbing';
                }
            });

            document.addEventListener('mousemove', function(e) {
                if (isDragging && currentWindow) {
                    const newX = e.clientX - offsetX;
                    const newY = e.clientY - offsetY;
                    const clamped = clampPosition(newX, newY, currentWindow);
                    currentWindow.style.left = clamped.x + 'px';
                    currentWindow.style.top = clamped.y + 'px';
                }
            });

            document.addEventListener('mouseup', function() {
                if (currentWindow) {
                    currentWindow.style.cursor = '';
                }
                isDragging = false;
                currentWindow = null;
            });

            // Touch support
            document.addEventListener('touchstart', function(e) {
                const win = e.target.closest('.Window');
                if (win && !e.target.closest('.Window_Manipulation')) {
                    currentWindow = win;
                    isDragging = true;
                    const rect = currentWindow.getBoundingClientRect();
                    const touch = e.touches[0];
                    offsetX = touch.clientX - rect.left;
                    offsetY = touch.clientY - rect.top;
                }
            });

            document.addEventListener('touchmove', function(e) {
                if (isDragging && currentWindow) {
                    const touch = e.touches[0];
                    const newX = touch.clientX - offsetX;
                    const newY = touch.clientY - offsetY;
                    const clamped = clampPosition(newX, newY, currentWindow);
                    currentWindow.style.left = clamped.x + 'px';
                    currentWindow.style.top = clamped.y + 'px';
                    e.preventDefault();
                }
            }, { passive: false });

            document.addEventListener('touchend', function() {
                isDragging = false;
                currentWindow = null;
            });
        })();

        //.Panel

        (function() {
            let isDragging = false;
            let currentPanel = null;
            let offsetX = 0;
            let offsetY = 0;

            function clampPosition(x, y, element) {
                const rect = element.getBoundingClientRect();
                const maxX = window.innerWidth - rect.width;
                const maxY = window.innerHeight - rect.height;
                return {
                    x: Math.max(0, Math.min(x, maxX)),
                    y: Math.max(0, Math.min(y, maxY))
                };
            }

            document.addEventListener('mousedown', function(e) {
                const panel = e.target.closest('.Panel');
                if (panel) {
                    currentPanel = panel;
                    isDragging = true;
                    const rect = currentPanel.getBoundingClientRect();
                    offsetX = e.clientX - rect.left;
                    offsetY = e.clientY - rect.top;
                    currentPanel.style.cursor = 'grabbing';
                }
            });

            document.addEventListener('mousemove', function(e) {
                if (isDragging && currentPanel) {
                    const newX = e.clientX - offsetX;
                    const newY = e.clientY - offsetY;
                    const clamped = clampPosition(newX, newY, currentPanel);
                    currentPanel.style.left = clamped.x + 'px';
                    currentPanel.style.top = clamped.y + 'px';
                }
            });

            document.addEventListener('mouseup', function() {
                if (currentPanel) {
                    currentPanel.style.cursor = '';
                }
                isDragging = false;
                currentPanel = null;
            });

            // Touch support
            document.addEventListener('touchstart', function(e) {
                const panel = e.target.closest('.Panel');
                if (panel) {
                    currentPanel = panel;
                    isDragging = true;
                    const rect = currentPanel.getBoundingClientRect();
                    const touch = e.touches[0];
                    offsetX = touch.clientX - rect.left;
                    offsetY = touch.clientY - rect.top;
                }
            });

            document.addEventListener('touchmove', function(e) {
                if (isDragging && currentPanel) {
                    const touch = e.touches[0];
                    const newX = touch.clientX - offsetX;
                    const newY = touch.clientY - offsetY;
                    const clamped = clampPosition(newX, newY, currentPanel);
                    currentPanel.style.left = clamped.x + 'px';
                    currentPanel.style.top = clamped.y + 'px';
                    e.preventDefault();
                }
            }, { passive: false });

            document.addEventListener('touchend', function() {
                isDragging = false;
                currentPanel = null;
            });
        })();
        


        //Snapping system.

        // Snapping system - snap windows to 10px grid

        //.Window
        (function() {
            const SNAP_SIZE = 10;

            function snapToGrid(value) {
                return Math.round(value / SNAP_SIZE) * SNAP_SIZE;
            }

            // Override mouseup to snap position
            document.addEventListener('mouseup', function(e) {
                const windows = document.querySelectorAll('.Window');
                windows.forEach(win => {
                    const rect = win.getBoundingClientRect();
                    win.style.left = snapToGrid(rect.left) + 'px';
                    win.style.top = snapToGrid(rect.top) + 'px';
                });
            });

            // Override touchend to snap position
            document.addEventListener('touchend', function(e) {
                const windows = document.querySelectorAll('.Window');
                windows.forEach(win => {
                    const rect = win.getBoundingClientRect();
                    win.style.left = snapToGrid(rect.left) + 'px';
                    win.style.top = snapToGrid(rect.top) + 'px';
                });
            });
        })();

        //.Panel

        (function() {
            const SNAP_SIZE = 10;

            function snapToGrid(value) {
                return Math.round(value / SNAP_SIZE) * SNAP_SIZE;
            }

            document.addEventListener('mouseup', function(e) {
                const panels = document.querySelectorAll('.Panel');
                panels.forEach(panel => {
                    const rect = panel.getBoundingClientRect();
                    panel.style.left = snapToGrid(rect.left) + 'px';
                    panel.style.top = snapToGrid(rect.top) + 'px';
                });
            });

            document.addEventListener('touchend', function(e) {
                const panels = document.querySelectorAll('.Panel');
                panels.forEach(panel => {
                    const rect = panel.getBoundingClientRect();
                    panel.style.left = snapToGrid(rect.left) + 'px';
                    panel.style.top = snapToGrid(rect.top) + 'px';
                });
            });
        })();

        //Bring to front.

        // Bring to front when clicking on Window or Panel
        (function() {
            let zIndex = 100;

            document.addEventListener('mousedown', function(e) {
                const element = e.target.closest('.Window') || e.target.closest('.Panel');
                if (element) {
                    zIndex++;
                    element.style.zIndex = zIndex;
                }
            });

            document.addEventListener('touchstart', function(e) {
                const element = e.target.closest('.Window') || e.target.closest('.Panel');
                if (element) {
                    zIndex++;
                    element.style.zIndex = zIndex;
                }
            });
        })();

        //Book_Mark: Window open animation.
                
        //Window open animation.

        (function() {
            const style = document.createElement('style');
            style.textContent = `
                @keyframes windowOpenAnimation {
                    0% {
                        opacity: 0;
                        transform: scale(0.85) translateY(20px);
                        filter: blur(4px);
                    }
                    50% {
                        opacity: 0.8;
                        filter: blur(1px);
                    }
                    100% {
                        opacity: 1;
                        transform: scale(1) translateY(0);
                        filter: blur(0);
                    }
                }

                .Window.window-opening {
                    animation: windowOpenAnimation 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards !important;
                }
            `;
            document.head.appendChild(style);

            const windowStates = new WeakMap();

            document.addEventListener('DOMContentLoaded', function() {
                const windows = document.querySelectorAll('.Window');
                windows.forEach(win => {
                    const computedStyle = window.getComputedStyle(win);
                    windowStates.set(win, computedStyle.display !== 'none');
                });
            });

            const observer = new MutationObserver(function(mutations) {
                mutations.forEach(function(mutation) {
                    if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                        const win = mutation.target;
                        if (win.classList.contains('Window')) {
                            const computedStyle = window.getComputedStyle(win);
                            const isVisible = computedStyle.display !== 'none';
                            const wasVisible = windowStates.get(win) || false;

                            if (isVisible && !wasVisible && !win.classList.contains('window-opening')) {
                                win.classList.add('window-opening');
                                win.addEventListener('animationend', function handler() {
                                    win.classList.remove('window-opening');
                                    win.removeEventListener('animationend', handler);
                                });
                            }

                            windowStates.set(win, isVisible);
                        }
                    }
                });
            });

            document.addEventListener('DOMContentLoaded', function() {
                const windows = document.querySelectorAll('.Window');
                windows.forEach(win => {
                    observer.observe(win, { attributes: true, attributeFilter: ['style'] });
                });
            });

            window.openWindow = function(win) {
                if (typeof win === 'string') {
                    win = document.querySelector(win);
                }
                if (!win) return;
                
                win.classList.remove('window-opening');
                win.style.display = 'flex';
                void win.offsetWidth;
                win.classList.add('window-opening');
                
                win.addEventListener('animationend', function handler() {
                    win.classList.remove('window-opening');
                    win.removeEventListener('animationend', handler);
                });

                windowStates.set(win, true);
            };

            window.closeWindow = function(win) {
                if (typeof win === 'string') {
                    win = document.querySelector(win);
                }
                if (!win) return;
                
                win.style.display = 'none';
                windowStates.set(win, false);
            };
        })();

        //Book_Mark: Cursor

    </Script>
    

</head>
<body>

    <!--Book_Mark: Cursor-->    
    <div class="Cursor_Test">
        <div class="Cursor">
            <div class="Cursor_Build">
                <span id="Cursor_Pointer"></span>
            </div>
            <style>
                #Cursor_Pointer {
                    position: absolute;
                    width: 5px;
                    height: 5px;
                    border-radius: 50%;
                    background-color: rgb(255, 255, 255);
                    z-index: 100;
                }
            </style>
            <Script>
                document.addEventListener('DOMContentLoaded', function() {
                    const cursorPointer = document.getElementById('Cursor_Pointer');
                    
                    // Hide default cursor on all elements
                    document.documentElement.style.cursor = 'none';
                    document.body.style.cursor = 'none';
                    
                    // Apply cursor:none to all elements
                    const style = document.createElement('style');
                    style.textContent = '* { cursor: none !important; }';
                    document.head.appendChild(style);
                    
                    // Make cursor non-interactive so clicks pass through
                    cursorPointer.style.pointerEvents = 'none';
                    cursorPointer.style.zIndex = '2147483647';
                    cursorPointer.style.position = 'fixed';
                    
                    document.addEventListener('mousemove', function(e) {
                        cursorPointer.style.left = e.clientX + 'px';
                        cursorPointer.style.top = e.clientY + 'px';
                    });
                    
                    // Hide custom cursor when mouse leaves window
                    document.addEventListener('mouseleave', function() {
                        cursorPointer.style.display = 'none';
                    });
                    
                    // Show custom cursor when mouse enters window
                    document.addEventListener('mouseenter', function() {
                        cursorPointer.style.display = 'block';
                    });
                    
                    // Touch support - cursor follows touch point during drag
                    document.addEventListener('touchstart', function(e) {
                        const touch = e.touches[0];
                        cursorPointer.style.left = touch.clientX + 'px';
                        cursorPointer.style.top = touch.clientY + 'px';
                        cursorPointer.style.display = 'block';
                    });
                    
                    document.addEventListener('touchmove', function(e) {
                        const touch = e.touches[0];
                        cursorPointer.style.left = touch.clientX + 'px';
                        cursorPointer.style.top = touch.clientY + 'px';
                    });
                    
                    document.addEventListener('touchend', function() {
                        cursorPointer.style.display = 'flex';
                    });
                });
                
            </Script>
        </div>
    </div>

    <div class="Login">
        <div class="Login_Build">

            <!--Book_Mark: Wallpaper_Slide_Show-->
            <div class="Wallpaper_Slide_Show">
                <div class="Wallpapers_List">
                    <img src="/Images/Wallpaper/3d-render-gradient-1080x2160-9736.jpg" alt="">
                </div>
            </div>

            <div class="Clock">

            </div>

            <!--Book_Mark: Lgoin_Builld - Login_Window-->
            <div class="Window" id="Login_Window">
                <div class="Header">
                    <p class="Title">Login</p>
                    <div class="Window_Manipulation">
                        <button class="Minimize" id="Login_Window_Minimize"></button>
                        <button class="Maximize" id="Login_Window_Maximize"></button>
                        <button class="Close" id="Login_Window_Close"></button>
                    </div>
                </div>
                <div class="Content">
                    <div class="Login_Terminal">
                        
                    </div>
                </div>

                <style aria-label="Login_Window - Style">
                    #Login_Window {
                        width: 260px;
                        height: 280px;
                        
                    }

                    #Login_Window > .Content >  {
                        position: absolute;
                        bottom: 10px;
                        right: 10px;
                        width: auto;
                        height: auto;
                        /*Specials*/
                    }
                </style>
            </div>

            <!--Book_Mark: Login_Builld - Start_Menu_Panel-->
            <div class="Panel" id="Start_Menu_Panel">
                <p class="Title">Start Menu</p>
                <div class="Start_Menu_Panel_Buttons">
                    <button id="Panel_Login">[ Login ]</button>
                    <button>[ Character Index ]</button>
                    <button>[ About Vista D-Net ]</button>
                    <button>[ D-Wifi Connections ]</button>
                    <button>[ Reset to original OS ]</button>
                    <button>[ Load from disk ]</button>
                    <button>[ Author ]</button>
                </div>
                
                        
                <!--Book_Mark: Start_Menu_Panel - Style-->
                <style aria-label="Start_Menu_Panel - Style">
                    #Start_Menu_Panel {
                        /*Default Position*/
                        position: absolute;
                        top: 10px;
                        left: 10px;

                        /*Style*/
                        width: auto;
                        height: auto;
                        display: flex;
                        flex-direction: column;
                        align-items: flex-start;
                        text-indent: 10px;
                        gap: 10px;
                        padding-bottom: 10px;
                        padding-right: 50px;
                    }

                    #Start_Menu_Panel > .Start_Menu_Panel_Buttons {
                        padding-top: 60px;
                        margin-left: 10px;
                        width: auto;
                        height: auto;
                        display: flex;
                        align-items: flex-start;
                        flex-direction: column;
                        gap: 10px;
                    }

                    #Start_Menu_Panel > .Start_Menu_Panel_Buttons > button {
                        width: auto;
                        height: auto;
                        display: flex;
                        flex-direction: column;
                    }

                    #Start_Menu_Panel > .Start_Panel_Buttons > button {
                        width: auto;
                        height: auto;
                        display: flex;
                        flex-direction: column;
                    }


                </style>
            </div>
        </div>
        <!--Book_Mark: Login_Style-->
        <style aria-label="Login_Style">

            .Login {
                width: 100dvw;
                height: 100dvh;
                overflow: hidden;
            }

            .Login > .Login_Build {
                display: flex;
                justify-content: center;
                align-items: center;
            }

            .Login > .Login_Build > .Wallpaper_Slide_Show > .Wallpapers_List > img {
                height: 100dvh;
                width: 100dvw;
                background-size: contain;
            }

        </style>

        <!--Book_Mark: Login_Script-->
        <Script>

            document.getElementById('Panel_Login').addEventListener('click', function() {
                const loginWindow = document.getElementById('Login_Window');
                loginWindow.style.display = 'flex';
                loginWindow.style.zIndex = Math.max(...Array.from(document.querySelectorAll('.Window, .Panel')).map(el => parseInt(el.style.zIndex) || 0)) + 1;
            });

            document.getElementById('Login_Window_Close').addEventListener('click', function() {
                document.getElementById('Login_Window').style.display = 'none';
            });
            

        </Script>
    </div>
</body>
</html>