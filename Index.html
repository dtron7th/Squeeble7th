<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eden Economy</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&family=Cantarell:ital,wght@0,400;0,700;1,400;1,700&family=Cascadia+Code:ital,wght@0,200..700;1,200..700&family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&family=Hind+Siliguri:wght@300;400;500;600;700&family=Inconsolata:wdth,wght@105.8,200..900&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&family=Quicksand:wght@300..700&family=Rajdhani:wght@300;400;500;600;700&family=Sometype+Mono:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="CSS/UI.css">

    <style>
        /* ============================================================================ */
        /* BODY & WALLPAPER */
        /* ============================================================================ */
        body {
            background-color: rgb(255, 255, 255);
            overflow: hidden;
            width: 100dvw;
            height: 100dvh;
            display: flex;
            justify-content: center;
        }

        .Wallpaper {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            background-size: contain;
        }

        .Wallpaper > .Img_List {
            display: flex;
        }

        .Wallpaper > .Img_List > img {
            width: 100dvw;
            height: 100dvh;
            background-size: cover;
        }

        /* ============================================================================ */
        /* DISCLAIMER */
        /* ============================================================================ */
        .Disclaimer {
            position: absolute;
            width: 100%;
            height: 100%;
            backdrop-filter: var(--Back_drop);
            background-color: var(--Main_Window_Color-2);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        .Disclaimer > .Disclaimer_Window {
            position: absolute;
            width: 300px;
            height: 200px;
            background-color: var(--Main_Window_Color-1);
            border-radius: var(--Border-Radius);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ============================================================================ */
        /* POWER BUTTON */
        /* ============================================================================ */
        .On_Button {
            position: absolute;
            width: auto;
            height: auto;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
        }

        .On_Button > button {
            position: absolute;
            width: auto;
            height: auto;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            backdrop-filter: var(--Back_drop);
        }

        .On_Button > button > img {
            height: 20px;
        }

        /* ============================================================================ */
        /* PROGRESS BAR */
        /* ============================================================================ */
        .Progress_Bar {
            position: absolute;
            bottom: 10px;
            width: calc(100% - 20px);
            height: 30px;
            background-color: var(--Text_Input_Field);
            backdrop-filter: blur(20px);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .Progress_Fill {
            position: absolute;
            left: 0px;
            height: 30px;
            width: 0;
            background-color: rgba(255, 255, 255, 0.2);
            transition: width 0.3s ease-in-out;
        }

        .Progress_Label {
            position: absolute;
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
        }

        /* ============================================================================ */
        /* LOGIN CONTAINER */
        /* ============================================================================ */
        .Login {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
        }

        .Login > .Login_Window > .Content > .Main {
            position: absolute;
            top: 100px;
            width: calc(100% - 40px);
            display: flex;
            justify-content: center;
            flex-direction: column;
        }

        .Login > .Login_Window > .Content > .Main > .Inputs {
            display: flex;
            justify-content: center;
            flex-direction: column;
            gap: 10px;
        }

        .Login > .Login_Window > .Content > .Main > .Inputs > .Field {
            width: 100%;
            height: 30px;
            background-color: var(--Text_Input_Field);
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
            gap: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-indent: 10px;
            overflow: hidden;
        }

        .Login > .Login_Window > .Content > .Main > .Inputs > .Login_SHA-256_Output {
            width: 100%;
            height: 30px;
            gap: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-indent: 10px;
            overflow: hidden;
        }

        .Login > .Login_Window > .Content > .Main > .Buttons {
            position: absolute;
            top: 90px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Login > .Login_Window > .Content > .Manual {
            position: absolute;
            bottom: 20px;
            width: calc(100% - 40px);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .Login > .Login_Window > .Content > .Manual > .Hash_Name {
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Login > .Login_Window > .Content > p {
            width: calc(100% - 40px);
        }

        /* ============================================================================ */
        /* CLOSE LOGIN MENU */
        /* ============================================================================ */
        .Login > .Close_Login_Menu {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--Menu_Background);
            backdrop-filter: var(--Back_drop);
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
        }

        .Login > .Close_Login_Menu > .Menu_Container {
            position: absolute;
            width: 200px;
            height: auto;
            background-color: var(--Main_Window_Color-2);
        }

        /* ============================================================================ */
        /* VERIFICATION WINDOW */
        /* ============================================================================ */
        .Login > .Verification_Window {
            display: none;
        }

        .Login > .Verification_Window > .Content {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .Login > .Verification_Window > .Content > .Verification_Window_Profile {
            position: absolute;
            top: 30px;
            width: 70px;
            height: 70px;
            overflow: hidden;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .Login > .Verification_Window > .Content > .Verification_Window_Profile > img {
            width: 100%;
            background-size: contain;
        }

        .Login > .Verification_Window > .Content > .Data {
            position: absolute;
            bottom: 80px;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .Login > .Verification_Window > .Content > .Data > span {
            width: 150px;
            text-align: center;
            font-size: var(--Main_Text_1);
            color: var(--Main_Text_Color);
        }

        .Login > .Verification_Window > .Content > .Buttons {
            width: 100%;
            position: absolute;
            bottom: 20px;
            display: flex;
            justify-content: center;
        }

        /* ============================================================================ */
        /* SIGNUP WINDOW */
        /* ============================================================================ */
        .Signup_Window {
            position: relative;
            display: none;
            overflow: hidden;
            overflow-y: scroll;
        }

        .Signup_Window > .Window_Header {
            position: sticky;
            z-index: 1;
        }

        .Signup_Window > .Content {
            position: relative;
            display: flex;
            justify-content: center;
            align-self: center;
        }

        .Signup_Window > .Content > .Main_Title {
            position: absolute;
            top: 20px;
            left: 20px;
        }

        .Signup_Window > .Content > .Main_Title > p {
            font-size: 16px;
            color: var(--Main_Text_Color);
        }

        /* Profile Section */
        .Signup_Window > .Content > .Signup_Profile {
            position: absolute;
            top: 20px;
            right: 20px;
            width: calc(100% - 120px);
        }

        .Signup_Window > .Content > .Signup_Profile > .Signup_Profile_Bubble {
            position: absolute;
            right: 0px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            overflow: hidden;
        }

        .Signup_Window > .Content > .Signup_Profile > .Signup_Profile_Bubble > img {
            width: 70px;
            height: 70px;
            background-color: var(--Profile_Pic_Background);
        }

        .Signup_Window > .Content > .Signup_Profile > .Signup_Profile_Name {
            position: absolute;
            top: 0px;
            right: 80px;
            width: 50%;
            font-size: 16px;
            color: var(--Main_Text_Color);
            text-align: right;
        }

        .Signup_Window > .Content > .Signup_Profile > .Signup_Profile_Name > p {
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
        }

        /* Wallpaper Section */
        .Signup_Window > .Content > .Signup_Wallpaper {
            position: absolute;
            top: 110px;
            width: calc(100% - 40px);
            height: 130px;
        }

        .Signup_Window > .Content > .Signup_Wallpaper > .Signup_Wallpaper_Container {
            width: 100%;
            height: 100%;
            border-radius: var(--Border-Radius_Button);
            overflow: hidden;
        }

        .Signup_Window > .Content > .Signup_Wallpaper > .Signup_Wallpaper_Container > img {
            width: 100%;
            background-size: contain;
        }

        .Signup_Window > .Content > .Signup_Wallpaper > .Get_Signup_Wallpaper {
            margin-top: 10px;
        }

        /* Input Fields */
        .Signup_Window > .Content > .Inputs {
            width: calc(100% - 40px);
            overflow-y: scroll;
        }

        .Signup_Window > .Content > .Inputs > .First_Basic_Inputs {
            position: absolute;
            top: 310px;
            width: calc(100% - 40px);
        }

        .Signup_Window > .Content > .Inputs > .First_Basic_Inputs > .Hash_Output {
            position: absolute;
            top: 50px;
            width: 100%;
        }

        .Signup_Window > .Content > .Inputs > .First_Basic_Inputs > .Hash_Output > .Signup_SHA-256_Output {
            width: 100%;
            height: 30px;
            gap: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-indent: 10px;
            overflow: hidden;
        }

        .Signup_Window > .Content > .Inputs > .First_Basic_Inputs > .Name {
            position: absolute;
            top: 100px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Signup_Window > .Content > .Inputs > .First_Basic_Inputs > .Signup_Password {
            position: absolute;
            top: 140px;
            width: 100%;
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs {
            position: absolute;
            top: 510px;
            width: calc(100% - 40px);
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs > .Hash_Output {
            position: absolute;
            top: 50px;
            width: 100%;
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs > .Hash_Output > .Signup_SHA-256_Output {
            width: 100%;
            height: 30px;
            background-color: var(--Text_Input_Field);
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
            gap: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-indent: 10px;
            overflow: hidden;
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs > .Name {
            position: absolute;
            top: 100px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs > .Information_1 {
            position: absolute;
            top: 140px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Signup_Window > .Content > .Inputs > .Second_Basic_Inputs > .Information_2 {
            position: absolute;
            top: 180px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
            padding-bottom: 20px;
        }

        /* Fake Account Overlay */
        .Fake_Account {
            position: absolute;
            top: 30px;
            left: 0px;
            width: 100%;
            height: calc(100% - 30px);
            background-color: rgba(66, 66, 66, 0.7);
            backdrop-filter: blur(20px);
            z-index: 1;
        }

        .Fake_Account .Content {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .Fake_Account .Content > .User_Information {
            width: 200px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            text-align: center;
        }

        .Fake_Account .Content > .User_Information > p {
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color_1);
        }

        .Fake_Account .Content > .User_Information > .Information {
            margin-top: 30px;
        }

        /* ============================================================================ */
        /* PROFILE DROPDOWN */
        /* ============================================================================ */
        .Signup_Profile_Options_Dropdown {
            width: 150px;
            height: auto;
        }

        /* ============================================================================ */
        /* UPLOAD PROFILE DIALOG */
        /* ============================================================================ */
        .Signup_Upload_Profile_Dialog {
            display: none;
        }

        .Signup_Upload_Profile_Dialog > .Content {
            display: flex;
            justify-content: center;
        }

        .Signup_Upload_Profile_Dialog > .Content > .Signup_Upload_Profile_Dialog_Profile_Pic {
            position: absolute;
            top: 20px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            overflow: hidden;
        }

        .Signup_Upload_Profile_Dialog > .Content > .Signup_Upload_Profile_Dialog_Profile_Pic > img {
            width: 70px;
            height: 70px;
            background-color: var(--Profile_Pic_Background);
        }

        .Signup_Upload_Profile_Dialog > .Content > .Buttons {
            position: absolute;
            bottom: 10px;
            width: calc(100% - 20px);
            display: flex;
            gap: 10px;
        }

        /* ============================================================================ */
        /* FORGOT PASSWORD DIALOG */
        /* ============================================================================ */
        .Forgot_Password_Dialog {
            display: none;
        }

        .Forgot_Password_Dialog > .Content > .Description {
            position: absolute;
            top: 30px;
            width: calc(100% - 40px);
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Output_Hash {
            position: absolute;
            top: 80px;
            width: calc(100% - 40px);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Output_Hash > .Forgotpassword_SHA-256_Output {
            width: 100%;
            height: 30px;
            background-color: var(--Text_Input_Field);
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
            gap: 10px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-indent: 10px;
            overflow: hidden;
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Inputs {
            position: absolute;
            top: 180px;
            width: calc(100% - 40px);
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Inputs > .Name {
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Inputs > .Information_1 {
            margin-top: 10px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        .Forgot_Password_Dialog > .Content > .Forgotpassword_Inputs > .Information_2 {
            margin-top: 10px;
            width: 100%;
            display: flex;
            flex-direction: row;
            gap: 10px;
        }

        /* ============================================================================ */
        /* FORGOT PASSWORD SHOW PASSWORD DIALOG */
        /* ============================================================================ */
        .Forgot_Password_Show_Password_Dialog {
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
        }

        .Forgot_Password_Show_Password_Dialog > .Fields {
            position: absolute;
            top: 400px;
            display: flex;
            justify-content: center;
            text-align: center;
            flex-direction: column;
            gap: 20px;
            font-size: var(--Main_Text);
            color: var(--Main_Text_Color);
        }

        .Forgot_Password_Show_Password_Dialog > .Fields > .Recovered_Password {
            font-size: 14px;
        }

        .Forgot_Password_Show_Password_Dialog > .Close_Button {
            position: absolute;
            top: 480px;
        }
    </style>
</head>

<body id="Main_Body">
    <!-- ============================================================================ -->
    <!-- WALLPAPER BACKGROUND -->
    <!-- ============================================================================ -->
    <div class="Wallpaper">
        <div class="Img_List">
            <img src="/Images/Background Img/Login_wallpaper-1.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-2.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-3.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-4.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-5.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-6.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-7.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-8.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-9.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-10.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-11.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-12.jpg" alt="">
            <img src="/Images/Background Img/Login_wallpaper-13.jpg" alt="">
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- DISCLAIMER MODAL -->
    <!-- ============================================================================ -->
    <div class="Disclaimer" id="Disclaimer">
        <div class="Disclaimer_Window">
            <p style="position: absolute; top: 40px; width: 250px; color: var(--Main_Text_Color); font-size: 12px; text-align: center;">
                This web app is meant for phones and some tablets, but mostly phones. The UI nor the website wouldn't work on desktops and laptops
            </p>
            <button id="Close_Disclaimer" style="position: absolute; bottom: 20px; width: 150px; height: 30px; font-size: var(--Main_Text); border-radius: var(--Border-Radius_Button);">
                Accept
            </button>
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- PROGRESS BAR -->
    <!-- ============================================================================ -->
    <div class="Progress_Bar" id="Progress_Bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
        <div id="Progress_Fill" class="Progress_Fill"></div>
        <span id="Progress_Label" class="Progress_Label">0%</span>
    </div>

    <!-- ============================================================================ -->
    <!-- LOGIN CONTAINER -->
    <!-- ============================================================================ -->
    <div class="Login" id="Login">
        <!-- Login Window -->
        <div class="Window Login_Window" style="width: 300px; height: 460px;">
            <div class="Window_Header">
                <p class="Title">Log in</p>
                <button class="Close_Button" id="Close_Login_Button"></button>
            </div>
            <div class="Content">
                <p style="color: var(--Main_Text_Color); position: absolute; top: 40px; left: 20px; font-size: var(--Main_Text);">
                    This uses the crypto hash SHA-256 algoritm to secure your account, just use your email address and name below to login.
                </p>

                <div class="Main">
                    <div class="Inputs">
                        <output class="Login_SHA-256_Output" id="Login_SHA-256_Output" aria-placeholder="Sha-256 Hash"></output>
                        <output class="Field" id="Printed_Text" type="text" style="width: 100%; height: 30px;" placeholder="Credentials"></output>
                    </div>
                    <div class="Buttons">
                        <button id="Open_Verification_Window" style="width: 100%; height: 30px;">Login</button>
                        <button id="Open_Signup_Window" style="width: 100%; height: 30px;">Sign Up</button>
                    </div>
                </div>

                <div class="Manual">
                    <div class="Hash_Name">
                        <input id="Hash_First_Name" class="Field" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                        <input id="Hash_Last_Name" class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                    </div>
                    <input id="Hash_Password" class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Password">
                    <button id="Open_Forgot_Password" style="width: 100%; height:30px;">Forgot Password?</button>
                </div>
            </div>
        </div>

        <!-- Close Login Menu -->
        <div class="Fullscreen_Dialog Close_Login_Menu" id="Close_Login_Menu">
            <div class="Buttons">
                <button class="Fullscreen_Dialog_Button" id="Exit_Page" style="width: 100%; height: 30px;">Exit page</button>
                <button class="Fullscreen_Dialog_Button" id="Revert_Back_To_Login" style="width: 100%; height: 30px;">Revert back to login</button>
            </div>
        </div>

        <!-- Signup Window -->
        <div class="Window Signup_Window" style="width: 300px; height: 600px;">
            <div class="Window_Header">
                <p class="Title">Sign up</p>
                <button class="Close_Button" id="Close_Signup_Window"></button>
                <button class="Max_Size_Button" id="Maximize_Signup_Window"></button>
            </div>

            <!-- Fake Account Overlay -->
            <div class="Fake_Account">
                <div class="Content">
                    <div class="User_Information">
                        <p class="First_Name">First Name: Fake</p>
                        <p class="Last_Name">Last Name: Acccount</p>
                        <p class="Password">Password: Titanic</p>
                        <p class="Information">Make sure you are using capital letters when you are Using the Fake Account</p>
                    </div>
                </div>
            </div>

            <div class="Content">
                <!-- Profile Section -->
                <div class="Main_Title">
                    <p>Sign up</p>
                </div>
                <div class="Signup_Profile">
                    <div class="Signup_Profile_Bubble">
                        <img id="Signup_Profile_Options_Button" src="/Images/Profile Pics/man-user-circle-icon.png" alt="">
                    </div>
                    <div class="Signup_Profile_Name">
                        <p>John Doe</p>
                    </div>
                </div>

                <!-- Wallpaper Section -->
                <div class="Signup_Wallpaper">
                    <div class="Signup_Wallpaper_Container">
                        <img src="/Images/Wallpaper/1bf2a5457e255dba1b0e2e37076b4342.jpg" alt="">
                    </div>
                    <button class="Get_Signup_Wallpaper" id="Get_Signup_Wallpaper" style="width: 100%; height: 30px;">Upload Wallpaper</button>
                </div>

                <!-- Input Fields -->
                <div class="Inputs">
                    <!-- Primary Account Information -->
                    <div class="First_Basic_Inputs">
                        <div class="Title">
                            <p style="color: var(--Main_Text_Color); font-size: var(--Main_Text);">
                                Use the fields below to create your account, the SHA-256 hash will be generated from the data you input.
                            </p>
                        </div>
                        <div class="Hash_Output">
                            <output class="Signup_SHA-256_Output" id="Signup_SHA-256_Output" aria-placeholder="Sha-256 Hash"></output>
                        </div>
                        <div class="Name">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                        </div>
                        <div class="Signup_Password">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Password">
                        </div>
                    </div>

                    <!-- Backup Information -->
                    <div class="Second_Basic_Inputs">
                        <div class="Title">
                            <p style="color: var(--Main_Text_Color); font-size: var(--Main_Text);">
                                This is your backup data, incase you lose your password, you can rely on your secondary information to find your password.
                            </p>
                        </div>
                        <div class="Hash_Output">
                            <output class="Signup_SHA-256_Output" aria-placeholder="Sha-256 Hash"></output>
                        </div>
                        <div class="Name">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                        </div>
                        <div class="Information_1">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Data of birth">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Place of birth">
                        </div>
                        <div class="Information_2">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Information_1">
                            <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Information_2">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Verification Window -->
        <div class="Window Verification_Window" id="Verification_Window" style="width: 200px; height: 300px;">
            <div class="Window_Header">
                <p class="Title">Verification</p>
                <button class="Close_Button" id="Close_Verification_Window"></button>
            </div>
            <div class="Content">
                <div class="Verification_Window_Profile">
                    <img src="/Images/Profile Pics/man-user-circle-icon.png" alt="">
                </div>
                <div class="Data">
                    <span>Verification Success</span>
                    <span style="font-size: var(--Main_Text);">04 : 30</span>
                </div>
                <div class="Buttons">
                    <button id="Go_Home_Button" style="width: calc(100% - 40px); height: 30px;">Go on</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- DROPDOWNS -->
    <!-- ============================================================================ -->
    <div class="Dropdowns">
        <div class="Signup_Profile_Options">
            <div class="Dropdown_Window Signup_Profile_Options_Dropdown">
                <button class="Dropdown_Window_Button" style="width: 100%; height: 30px;">View Picture</button>
                <button class="Dropdown_Window_Button" id="Open_Signup_Upload_Profile_Dialog" style="width: 100%; height: 30px;">Edit Picture</button>
            </div>
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- POPUP DIALOGS LAYER 1 -->
    <!-- ============================================================================ -->
    <div class="Popup_Dialogs_Layer1">
        <!-- Upload Profile Picture Dialog -->
        <div class="Window Signup_Upload_Profile_Dialog" style="width: 200px; height: 200px;">
            <div class="Window_Header">
                <p class="Title">Upload Profile Picture</p>
                <button class="Close_Button" id="Close_Signup_Upload_Profile_Dialog"></button>
            </div>
            <div class="Content">
                <div class="Signup_Upload_Profile_Dialog_Profile_Pic">
                    <img src="/Images/Profile Pics/man-user-circle-icon.png" alt="">
                </div>
                <div class="Buttons">
                    <button id="Signup_Get_Picture_From_Computer" style="width: 100%; height: 30px;">Get Profile</button>
                    <button id="Signup_Set_Picture" style="width: 100%; height: 30px;">Set Profile</button>
                </div>
            </div>
        </div>

        <!-- Forgot Password Dialog -->
        <div class="Window Forgot_Password_Dialog" style="width: 300px; height: 340px;">
            <div class="Window_Header">
                <p class="Title">Forgot Password</p>
                <button class="Close_Button" id="Close_Forgot_Password_Dialog"></button>
            </div>
            <div class="Content">
                <div class="Description">
                    <p>Fill out the bottom fields to help recover your password. This uses a Sha-256 hash to hide your password</p>
                </div>
                <div class="Forgotpassword_Output_Hash">
                    <output class="Forgotpassword_SHA-256_Output" id="Forgotpassword_SHA-256_Output" aria-placeholder="Sha-256 Hash"></output>
                    <button id="Open_Forgot_Password_Show_Password_Dialog" style="width: 100%; height: 30px;">Get Password</button>
                </div>
                <div class="Forgotpassword_Inputs">
                    <div class="Name">
                        <input class="Field" id="Forgotpassword_First_Name" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                        <input class="Field" id="Forgotpassword_Last_Name" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                    </div>
                    <div class="Information_1">
                        <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                        <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                    </div>
                    <div class="Information_2">
                        <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="First Name">
                        <input class="Field" type="text" style="width: 100%; height: 30px;" placeholder="Last Name">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- POPUP DIALOGS LAYERS 2-5 (RESERVED) -->
    <!-- ============================================================================ -->
    <div class="Popup_Dialogs_Layer2"></div>
    <div class="Popup_Dialogs_Layer3"></div>
    <div class="Popup_Dialogs_Layer4"></div>
    <div class="Popup_Dialogs_Layer5"></div>

    <!-- ============================================================================ -->
    <!-- FULLSCREEN DIALOGS LAYER 1 -->
    <!-- ============================================================================ -->
    <div class="Fullscreen_Dialogs_Layer1">
        <div class="Fullscreen_Dialog Revert_To_Fullscreen_Dialog" style="display: none;">
            <div class="Buttons">
                <button class="Fullscreen_Dialog_Button" id="Exit_App_Page" style="width: 100%; height: 30px;">Exit page</button>
                <button class="Fullscreen_Dialog_Button" id="Revert_To_Fullscreen" style="width: 100%; height: 30px;">Revert to fullscreen</button>
            </div>
        </div>
        <div class="Fullscreen_Dialog Maps_Dialog" style="display: none;"></div>
    </div>

    <!-- ============================================================================ -->
    <!-- FULLSCREEN DIALOGS LAYER 2 -->
    <!-- ============================================================================ -->
    <div class="Fullscreen_Dialogs_Layer2">
        <div class="Fullscreen_Dialog Forgot_Password_Show_Password_Dialog">
            <div class="Fields">
                <p>Your password is:</p>
                <p class="Recovered_Password" id="Recovered_Password">Password</p>
            </div>
            <div class="Close_Button">
                <button id="Close_Forgot_Password_Show_Password_Dialog" style="width: 200px; height: 30px;">Close</button>
            </div>
        </div>
    </div>

    <!-- ============================================================================ -->
    <!-- FULLSCREEN DIALOGS LAYER 3 (RESERVED) -->
    <!-- ============================================================================ -->
    <div class="Fullscreen_Dialogs_Layer3"></div>

    <!-- ============================================================================ -->
    <!-- FAKE ACCOUNT OVERLAY SCRIPT -->
    <!-- ============================================================================ -->
    <script>
        (function(){
            const signupWindow = document.querySelector('.Signup_Window');
            const fakeAccount = document.querySelector('.Fake_Account');
            if (!signupWindow || !fakeAccount) return;
            
            function updateScrollBehavior() {
                const isFakeVisible = window.getComputedStyle(fakeAccount).display !== 'none';
                signupWindow.style.overflow = isFakeVisible ? 'hidden' : '';
            }
            
            updateScrollBehavior();
            const observer = new MutationObserver(updateScrollBehavior);
            observer.observe(fakeAccount, { attributes: true, attributeFilter: ['style', 'class'] });
        })();
    </script>
</body>
</html>

<!-- This is where you add the behaviors of the elements -->

<script>

    // ============================================================================
    // EXTERNAL CONTENT INJECTION
    // ============================================================================

    // Link Vk.html
    fetch('Vk.html')
        .then(response => {
            if (!response.ok) throw new Error('Failed to load Vk.html');
            return response.text();
        })
        .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            
            // Inject styles
            doc.querySelectorAll('style').forEach(style => {
                document.head.appendChild(style.cloneNode(true));
            });
            
            // Inject body content
            doc.querySelectorAll('body > *').forEach(element => {
                document.body.appendChild(element.cloneNode(true));
            });
            
            // Execute scripts
            doc.querySelectorAll('script').forEach(script => {
                const newScript = document.createElement('script');
                if (script.src) {
                    newScript.src = script.src;
                } else {
                    newScript.textContent = script.textContent;
                }
                document.body.appendChild(newScript);
            });
        })
        .catch(err => {
            console.error('Error loading Vk.html:', err);
        });

    // ============================================================================
    // FULLSCREEN FUNCTIONALITY
    // ============================================================================

    (function(){
        const fsBtn = document.getElementById('Close_Disclaimer');
        const docEl = document.documentElement;
        if (!fsBtn) return;

        async function enterFullscreen() {
            try {
                if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                    return;
                }
                if (docEl.requestFullscreen) {
                    await docEl.requestFullscreen();
                } else if (docEl.webkitRequestFullscreen) {
                    await docEl.webkitRequestFullscreen();
                } else if (docEl.msRequestFullscreen) {
                    await docEl.msRequestFullscreen();
                }
            } catch (err) {
                console.warn('Failed to enter fullscreen:', err);
            }
        }

        fsBtn.addEventListener('click', (e) => {
            enterFullscreen();
        });
    })();

    // ============================================================================
    // PROGRESS BAR
    // ============================================================================

    (function(){
        const bar = document.getElementById('Progress_Bar');
        const fill = document.getElementById('Progress_Fill');
        const label = document.getElementById('Progress_Label');
        const btn = document.getElementById('Close_Disclaimer');
        if (!bar || !fill || !label) return;

        const originalBtnDisplay = btn ? (btn.style.display || '') : '';
        bar.style.display = 'none';

        window.setProgress = function(percent){
            const p = Math.max(0, Math.min(100, Math.round(percent)));
            fill.style.width = p + '%';
            bar.setAttribute('aria-valuenow', p);
            label.textContent = p + '%';
        };

        let progressInterval = null;

        function startProgressDemo() {
            clearProgress();
            if (btn) btn.style.display = 'none';

            bar.style.display = 'flex';
            let demo = 0;
            window.setProgress(0);
            progressInterval = setInterval(() => {
                demo += 8;
                window.setProgress(demo);
                if (demo >= 100) {
                    clearInterval(progressInterval);
                    progressInterval = null;
                    window.setProgress(100);
                    if (btn) btn.style.display = originalBtnDisplay;
                    return;
                }
            }, 100);
        }

        function clearProgress() {
            if (progressInterval) {
                clearInterval(progressInterval);
                progressInterval = null;
            }
        }

        function stopAndHideProgress() {
            clearProgress();
            window.setProgress(0);
            bar.style.display = 'none';
            if (btn) btn.style.display = originalBtnDisplay;
        }

        if (btn) {
            btn.addEventListener('click', () => {
                startProgressDemo();
            });
        }

        function onFullscreenChange() {
            const isFs = !!(document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
            if (!isFs) {
                stopAndHideProgress();
            }
        }

        document.addEventListener('fullscreenchange', onFullscreenChange);
        document.addEventListener('webkitfullscreenchange', onFullscreenChange);
        document.addEventListener('msfullscreenchange', onFullscreenChange);

        window._progressControl = { start: startProgressDemo, stop: stopAndHideProgress };
    })();

    // Progress Bar - Auto-open Login Window
    (function(){
        const progressBar = document.getElementById('Progress_Bar');
        if (!progressBar) return;
        const fsBtn = document.getElementById('Close_Disclaimer');

        function openLoginWindow() {
            const loginContainer = document.querySelector('.Login');
            const loginWindow = document.querySelector('.Login_Window');
            if (!loginContainer || !loginWindow) return;

            loginContainer.style.display = 'flex';
            loginWindow.style.display = 'flex';
            loginWindow.style.position = 'absolute';

            const winRect = loginWindow.getBoundingClientRect();
            const bodyRect = document.body.getBoundingClientRect();
            loginWindow.style.left = Math.max(0, (bodyRect.width - winRect.width) / 2) + 'px';
            loginWindow.style.top = Math.max(0, (bodyRect.height - winRect.height) / 2) + 'px';

            const first = loginWindow.querySelector('input, button, [tabindex]');
            if (first && typeof first.focus === 'function') first.focus();

            if (fsBtn) fsBtn.style.display = 'none';
        }

        if (typeof window.setProgress === 'function') {
            const origSet = window.setProgress;
            window.setProgress = function(percent) {
                try {
                    origSet(percent);
                } catch (e) {
                    try { origSet(Number(percent)); } catch (_) {}
                }
                const p = Math.max(0, Math.min(100, Math.round(Number(percent) || 0)));
                if (p >= 100) openLoginWindow();
            };
        }

        const obs = new MutationObserver(muts => {
            for (const m of muts) {
                if (m.type === 'attributes' && m.attributeName === 'aria-valuenow') {
                    const v = Number(progressBar.getAttribute('aria-valuenow') || 0);
                    if (v >= 100) {
                        openLoginWindow();
                        obs.disconnect();
                        break;
                    }
                }
            }
        });
        obs.observe(progressBar, { attributes: true });
    })();

    // Progress Bar - Auto-hide at 100%
    (function(){
        const bar = document.getElementById('Progress_Bar');
        if (!bar) return;

        const origSet = window.setProgress;
        window.setProgress = function(percent) {
            try { if (typeof origSet === 'function') origSet(percent); } catch (e) {}
            const p = Math.max(0, Math.min(100, Math.round(Number(percent) || 0)));
            if (p >= 100) {
                setTimeout(() => { bar.style.display = 'none'; }, 350);
            }
        };
    })();

    // ============================================================================
    // WALLPAPER SLIDESHOW
    // ============================================================================

    (function(){
        const imgList = Array.from(document.querySelectorAll('.Wallpaper .Img_List img'));
        if (!imgList.length) return;

        const container = document.querySelector('.Wallpaper .Img_List');
        if (container) container.style.position = 'relative';

        imgList.forEach((img, i) => {
            img.style.position = 'absolute';
            img.style.top = '0';
            img.style.left = '0';
            img.style.width = '100dvw';
            img.style.height = '100dvh';
            img.style.objectFit = 'cover';
            img.style.opacity = i === 0 ? '1' : '0';
            img.style.transition = 'opacity 3000ms ease';
            img.style.zIndex = i === 0 ? '2' : '1';
            img.style.pointerEvents = 'none';
            if (img.decode) img.decode().catch(()=>{});
        });

        function shuffleImages(images) {
            for (let i = images.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                if (i === j) continue;
                const a = images[i], b = images[j];
                const parent = a.parentNode;
                parent.insertBefore(b, a);
                [images[i], images[j]] = [images[j], images[i]];
            }
        }

        shuffleImages(imgList);

        let currentIndex = 0;
        const fadeDuration = 1000;
        const displayDuration = 9000;
        let timeoutId = null;
        let running = true;

        function crossfadeTo(nextIndex) {
            if (!running || nextIndex === currentIndex) return;
            const current = imgList[currentIndex];
            const next = imgList[nextIndex];

            next.style.zIndex = (parseInt(current.style.zIndex || '1') + 1).toString();
            next.style.opacity = '0';
            void next.offsetWidth;
            next.style.opacity = '1';

            setTimeout(() => {
                current.style.opacity = '0';
                current.style.zIndex = '1';
                next.style.zIndex = '2';
                currentIndex = nextIndex;
            }, fadeDuration);
        }

        function scheduleNext() {
            timeoutId = setTimeout(() => {
                const nextIndex = (currentIndex + 1) % imgList.length;
                crossfadeTo(nextIndex);
                scheduleNext();
            }, displayDuration);
        }

        scheduleNext();

        window._wallpaperSlideshow = {
            stop() { running = false; clearTimeout(timeoutId); },
            start() { if (!running) { running = true; scheduleNext(); } },
            next() { clearTimeout(timeoutId); crossfadeTo((currentIndex + 1) % imgList.length); scheduleNext(); },
            prev() { clearTimeout(timeoutId); crossfadeTo((currentIndex - 1 + imgList.length) % imgList.length); scheduleNext(); }
        };
    })();

    // Wallpaper Shuffle
    (function(){
        const container = document.querySelector('.Wallpaper .Img_List');
        if (!container) return;

        function fisherYatesShuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }

        function shuffleWallpaperImagesRandomly() {
            const imgs = Array.from(container.querySelectorAll('img'));
            if (imgs.length <= 1) return;

            fisherYatesShuffle(imgs);

            imgs.forEach((img, idx) => {
                container.appendChild(img);
                img.style.opacity = idx === 0 ? '1' : '0';
                img.style.zIndex = idx === 0 ? '2' : '1';
            });

            try {
                if (window._wallpaperSlideshow) {
                    window._wallpaperSlideshow.stop?.();
                    setTimeout(() => window._wallpaperSlideshow.start?.(), 50);
                }
            } catch (e) {}
        }

        window.shuffleWallpaperImagesRandomly = shuffleWallpaperImagesRandomly;
        shuffleWallpaperImagesRandomly();
        container.addEventListener('dblclick', () => shuffleWallpaperImagesRandomly());
    })();

    // ============================================================================
    // DISCLAIMER
    // ============================================================================

    document.getElementById('Close_Disclaimer').addEventListener('click', function() {
        document.getElementById('Disclaimer').style.display = 'none';
    });

    // ============================================================================
    // LOGIN WINDOW
    // ============================================================================

    // Close Login Menu
    (function(){
        const closeLoginBtn = document.getElementById('Close_Login_Button');
        const closeMenu = document.getElementById('Close_Login_Menu');
        const revertBtn = document.getElementById('Revert_Back_To_Login');
        const exitBtn = document.getElementById('Exit_Page');

        if (!closeLoginBtn || !closeMenu) return;

        closeLoginBtn.addEventListener('click', () => {
            closeMenu.style.display = 'flex';
            try { if (typeof bringToFront === 'function') bringToFront(closeMenu); } catch(e){}
            const first = closeMenu.querySelector('button');
            if (first && typeof first.focus === 'function') first.focus();
        });

        if (revertBtn) {
            revertBtn.addEventListener('click', () => {
                closeMenu.style.display = 'none';
                const loginWin = document.querySelector('.Login_Window');
                if (loginWin) try { if (typeof bringToFront === 'function') bringToFront(loginWin); } catch(e){}
            });
        }

        async function exitFullscreenIfNeeded() {
            try {
                if (document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement) {
                    if (document.exitFullscreen) await document.exitFullscreen();
                    else if (document.webkitExitFullscreen) await document.webkitExitFullscreen();
                    else if (document.msExitFullscreen) await document.msExitFullscreen();
                }
            } catch (e) {}
        }

        if (exitBtn) {
            exitBtn.addEventListener('click', async () => {
                await exitFullscreenIfNeeded();
                try { closeMenu.style.display = 'none'; } catch(e){}
                try { window.close(); } catch (e) {}
            });
        }
    })();

    // Exit Page Actions
    (function(){
        const exitBtn = document.getElementById('Exit_Page');
        const login = document.getElementById('Login');
        const fsBtn = document.getElementById('Full_Screen_Button');
        if (!exitBtn) return;

        exitBtn.addEventListener('click', () => {
            if (login) login.style.display = 'none';
            if (fsBtn) fsBtn.style.display = '';
            
            window.close();
            setTimeout(() => {
                if (!window.closed) {
                    window.location.href = 'about:blank';
                }
            }, 100);
        });
    })();

    // ============================================================================
    // LOGIN - SHA-256 HASH
    // ============================================================================

    // Sync Printed Text Field
    (function(){
        function syncPrinted() {
            const printed = document.getElementById('Printed_Text');
            const first = document.getElementById('Hash_First_Name');
            const last = document.getElementById('Hash_Last_Name');
            const pass = document.getElementById('Hash_Password');
            if (!printed || !first || !last || !pass) return;
            const combined = [first.value || '', last.value || '', pass.value || ''].join(' ').trim();
            printed.value = combined;
            try { printed.dispatchEvent(new Event('input', { bubbles: true })); } catch(e){}
            try { if (typeof updateSHAField === 'function') updateSHAField(); } catch(e){}
        }

        ['Hash_First_Name','Hash_Last_Name','Hash_Password'].forEach(id => {
            const el = document.getElementById(id);
            if (!el) return;
            el.addEventListener('input', syncPrinted);
            const mo = new MutationObserver(syncPrinted);
            mo.observe(el, { attributes: true, attributeFilter: ['value'] });
        });

        setTimeout(syncPrinted, 0);
    })();

    // Calculate SHA-256 Hash
    (function(){
        async function computeSHA256Hex(str) {
            const enc = new TextEncoder();
            const data = enc.encode(str);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function updateSHAField() {
            const out = document.getElementById('Login_SHA-256_Output');
            if (!out) return;

            const printed = document.getElementById('Printed_Text')?.value || '';
            const first = document.getElementById('Hash_First_Name')?.value || '';
            const last  = document.getElementById('Hash_Last_Name')?.value || '';
            const pass  = document.getElementById('Hash_Password')?.value || '';

            const combined = `${printed}|${first}|${last}|${pass}`;

            try {
                const hex = await computeSHA256Hex(combined);
                out.textContent = hex;
            } catch (e) {
                out.textContent = 'hash-error';
                console.error('SHA-256 failed', e);
            }
        }

        window.updateSHAField = updateSHAField;

        ['Printed_Text','Hash_First_Name','Hash_Last_Name','Hash_Password'].forEach(id => {
            const el = document.getElementById(id);
            if (!el) return;
            el.addEventListener('input', updateSHAField);
            const mo = new MutationObserver(updateSHAField);
            mo.observe(el, { attributes: true, attributeFilter: ['value'] });
        });

        setTimeout(updateSHAField, 0);
    })();

    // Truncate SHA-256 Display
    (function(){
        const out = document.getElementById('Login_SHA-256_Output');
        if (!out) return;

        const orig = window.updateSHAField || (async function(){});

        window.updateSHAField = async function(...args) {
            await orig.apply(this, args);
            const full = (out.textContent || '').toString();
            out.dataset.full = full;
            out.textContent = full.slice(0, 32).toUpperCase();
        };

        setTimeout(() => { try { window.updateSHAField(); } catch(e){} }, 0);
    })();

    // ============================================================================
    // VERIFICATION WINDOW
    // ============================================================================

    (function(){
        const openBtn = document.getElementById('Open_Verification_Window');
        const verification = document.getElementById('Verification_Window');
        const loginWindow = document.querySelector('.Login_Window');
        const loginContainer = document.querySelector('.Login');

        if (!openBtn || !verification) return;

        function centerAndShow(el) {
            el.style.display = 'flex';
            el.style.position = 'absolute';
            const rect = el.getBoundingClientRect();
            const bodyRect = document.body.getBoundingClientRect();
            el.style.left = Math.max(0, (bodyRect.width - rect.width) / 2) + 'px';
            el.style.top = Math.max(0, (bodyRect.height - rect.height) / 2) + 'px';
            try { if (typeof bringToFront === 'function') bringToFront(el); } catch(e){}
        }

        openBtn.addEventListener('click', (e) => {
            centerAndShow(verification);
            if (loginContainer) loginContainer.style.display = 'flex';
            try { if (typeof bringToFront === 'function') bringToFront(verification); } catch(e){}
        });

        const closeVerBtn = document.getElementById('Close_Verification_Window');
        if (closeVerBtn) {
            closeVerBtn.addEventListener('click', () => {
                verification.style.display = 'none';
                try { if (loginWindow) { loginWindow.style.display = 'flex'; bringToFront(loginWindow); } } catch(e){}
            });
        }
    })();

    // Real-time Clock
    (function(){
        function formatTime(d){
            return d.toLocaleTimeString();
        }

        const timeEl = document.querySelector('.Login .Verification_Window .Data span:nth-of-type(2)');
        function refresh() {
            if (timeEl) timeEl.textContent = formatTime(new Date());
        }

        window.getCurrentTime = function() {
            const now = new Date();
            return { date: now, formatted: formatTime(now), iso: now.toISOString() };
        };

        refresh();
        setInterval(refresh, 1000);
    })();

    // ============================================================================
    // SIGNUP WINDOW
    // ============================================================================

    // Open Signup Window
    (function(){
        const openBtn = document.getElementById('Open_Signup_Window');
        const signupWin = document.querySelector('.Signup_Window');
        const loginWin = document.querySelector('.Login_Window');

        if (!openBtn || !signupWin) return;

        function centerAndShow(el) {
            el.style.display = 'flex';
            el.style.position = 'absolute';
            const rect = el.getBoundingClientRect();
            const bodyRect = document.body.getBoundingClientRect();
            el.style.left = Math.max(0, (bodyRect.width - rect.width) / 2) + 'px';
            el.style.top = Math.max(0, (bodyRect.height - rect.height) / 2) + 'px';
            try { if (typeof bringToFront === 'function') bringToFront(el); } catch (e) {}
        }

        openBtn.addEventListener('click', () => {
            centerAndShow(signupWin);
            try { if (typeof bringToFront === 'function') bringToFront(signupWin); } catch (e) {}

            try {
                const first = signupWin.querySelector('input, button, [tabindex]');
                if (first && typeof first.focus === 'function') first.focus();
            } catch (e) {}
        });
    })();

    // Close Signup Window
    (function(){
        const closeBtn = document.getElementById('Close_Signup_Window');
        const signupWin = document.querySelector('.Signup_Window');
        const loginWin = document.querySelector('.Login_Window');

        if (!closeBtn) return;

        closeBtn.addEventListener('click', () => {
            if (signupWin) signupWin.style.display = 'none';
            if (loginWin) {
                loginWin.style.display = 'flex';
                try { bringToFront(loginWin); } catch (e) {}
            }
        });
    })();

    // Maximize Signup Window
    (function(){
        const btn = document.getElementById('Maximize_Signup_Window');
        const win = document.querySelector('.Signup_Window');
        if (!btn || !win) return;

        btn.addEventListener('click', () => {
            const isMax = win.dataset.maximized === '1';

            if (!isMax) {
                const rect = win.getBoundingClientRect();
                win.dataset.prevLeft = win.style.left || rect.left + 'px';
                win.dataset.prevTop = win.style.top || rect.top + 'px';
                win.dataset.prevWidth = win.style.width || rect.width + 'px';
                win.dataset.prevHeight = win.style.height || rect.height + 'px';
                win.dataset.prevPosition = win.style.position || getComputedStyle(win).position;

                win.style.position = 'fixed';
                win.style.left = '0';
                win.style.top = '0';
                win.style.width = '100vw';
                win.style.height = '100vh';
                win.style.margin = '0';
                win.dataset.maximized = '1';

                btn.style.background = 'rgb(255,255,255)';
                try { bringToFront(win); } catch(e){}
            } else {
                win.style.position = win.dataset.prevPosition || '';
                win.style.left = win.dataset.prevLeft || '';
                win.style.top = win.dataset.prevTop || '';
                win.style.width = win.dataset.prevWidth || '';
                win.style.height = win.dataset.prevHeight || '';
                win.style.margin = '';

                delete win.dataset.prevLeft;
                delete win.dataset.prevTop;
                delete win.dataset.prevWidth;
                delete win.dataset.prevHeight;
                delete win.dataset.prevPosition;
                win.dataset.maximized = '0';

                btn.style.background = '';
                try { bringToFront(win); } catch(e){}
            }
        });
    })();

    // ============================================================================
    // SIGNUP - PROFILE PICTURE
    // ============================================================================

    // Profile Options Dropdown
    (function(){
        const dropdown = document.querySelector('.Signup_Profile_Options_Dropdown');
        const bubble = document.querySelector('.Signup_Profile_Bubble');
        const toggleBtn = document.getElementById('Signup_Profile_Options_Button') || bubble;

        if (!dropdown || !bubble || !toggleBtn) return;

        dropdown.style.position = 'absolute';
        dropdown.style.display = dropdown.style.display || 'none';
        dropdown.style.zIndex = dropdown.style.zIndex || '9999';

        function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

        function positionDropdown() {
            const bRect = bubble.getBoundingClientRect();
            const ddRect = dropdown.getBoundingClientRect();
            const vw = document.documentElement.clientWidth;
            const vh = document.documentElement.clientHeight;

            let left = bRect.right - ddRect.width;
            let top  = bRect.bottom + 8;

            if (top + ddRect.height > vh) {
                top = bRect.top - ddRect.height - 8;
            }

            left = clamp(left, 8, Math.max(8, vw - ddRect.width - 8));
            top  = clamp(top, 8, Math.max(8, vh - ddRect.height - 8));

            dropdown.style.left = left + window.scrollX + 'px';
            dropdown.style.top  = top  + window.scrollY + 'px';
        }

        function showDropdown() {
            dropdown.style.display = 'block';
            positionDropdown();
            dropdown.setAttribute('aria-hidden','false');
            document.addEventListener('click', onDocClick, true);
            window.addEventListener('resize', positionDropdown, { passive:true });
            window.addEventListener('scroll', positionDropdown, { passive:true });
        }

        function hideDropdown() {
            dropdown.style.display = 'none';
            dropdown.setAttribute('aria-hidden','true');
            document.removeEventListener('click', onDocClick, true);
            window.removeEventListener('resize', positionDropdown);
            window.removeEventListener('scroll', positionDropdown);
        }

        function toggleDropdown(e){
            e && e.stopPropagation && e.stopPropagation();
            if (dropdown.style.display === 'block') hideDropdown();
            else showDropdown();
        }

        function onDocClick(e){
            const t = e.target;
            if (t && (t.closest('.Signup_Profile_Bubble') || t.closest('.Signup_Profile_Options_Dropdown') || t === toggleBtn)) return;
            hideDropdown();
        }

        if (window.ResizeObserver) {
            const ro = new ResizeObserver(() => {
                if (dropdown.style.display === 'block') positionDropdown();
            });
            ro.observe(bubble);
        }

        toggleBtn.addEventListener('click', toggleDropdown, { passive: true });

        window.profileOptions = {
            show: showDropdown,
            hide: hideDropdown,
            toggle: toggleDropdown,
            position: positionDropdown
        };
    })();

    // Close Dropdown on Outside Click
    (function(){
        function hideIfOpen(e){
            const dd = document.querySelector('.Signup_Profile_Options_Dropdown');
            if (!dd) return;
            if (dd.style.display !== 'block') return;

            if (e.target && (e.target.closest('.Signup_Profile_Options_Dropdown') || e.target.closest('.Signup_Profile_Bubble') || e.target.closest('#Signup_Profile_Options_Button'))) {
                return;
            }

            try { if (window.profileOptions && typeof window.profileOptions.hide === 'function') { window.profileOptions.hide(); return; } } catch(e){}

            dd.style.display = 'none';
        }

        document.addEventListener('click', hideIfOpen, true);
        document.addEventListener('touchstart', hideIfOpen, { passive: true, capture: true });
    })();

    // Upload Profile Dialog
    (function(){
        const openBtn = document.getElementById('Open_Signup_Upload_Profile_Dialog');
        const dialog = document.querySelector('.Signup_Upload_Profile_Dialog');
        if (!openBtn || !dialog) return;

        function centerAndShow(el){
            el.style.display = 'flex';
            el.style.position = 'absolute';
            const rect = el.getBoundingClientRect();
            const bodyRect = document.body.getBoundingClientRect();
            el.style.left = Math.max(0, (bodyRect.width - rect.width) / 2) + 'px';
            el.style.top  = Math.max(0, (bodyRect.height - rect.height) / 2) + 'px';
            try { if (typeof bringToFront === 'function') bringToFront(el); } catch(e){}
        }

        openBtn.addEventListener('click', (ev) => {
            ev.stopPropagation();
            centerAndShow(dialog);
            try {
                const first = dialog.querySelector('button, input, [tabindex]');
                if (first && typeof first.focus === 'function') first.focus();
            } catch(e){}
        }, { passive: true });

        const closeBtn = document.getElementById('Close_Signup_Upload_Profile_Dialog');
        if (closeBtn) {
            closeBtn.addEventListener('click', () => {
                dialog.style.display = 'none';
            });
        }
    })();

    // Hide Dropdown When Dialog Opens
    (function(){
        const dialog = document.querySelector('.Signup_Upload_Profile_Dialog');
        const dropdown = document.querySelector('.Signup_Profile_Options_Dropdown');
        if (!dialog || !dropdown) return;

        function hideDropdown() {
            try {
                if (dropdown.style.display === 'block' || getComputedStyle(dropdown).display !== 'none') {
                    dropdown.style.display = 'none';
                    dropdown.setAttribute('aria-hidden', 'true');
                }
            } catch (e) {}
        }

        const mo = new MutationObserver(() => {
            const isVisible = getComputedStyle(dialog).display !== 'none';
            if (isVisible) hideDropdown();
        });
        mo.observe(dialog, { attributes: true, attributeFilter: ['style', 'class', 'aria-hidden'] });

        const openBtn = document.getElementById('Open_Signup_Upload_Profile_Dialog');
        if (openBtn) openBtn.addEventListener('click', hideDropdown, { passive: true });

        document.addEventListener('profileUploadDialogOpened', hideDropdown, { passive: true });
    })();

    // Get Profile Picture from Computer
    (function(){
        const btn = document.getElementById('Signup_Get_Picture_From_Computer');
        if (!btn) return;

        btn.addEventListener('click', (ev) => {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.style.display = 'none';
            document.body.appendChild(input);

            input.addEventListener('change', () => {
                const file = input.files && input.files[0];
                if (!file) {
                    input.remove();
                    return;
                }
                if (!file.type.startsWith('image/')) {
                    alert('Please select an image file.');
                    input.remove();
                    return;
                }

                const reader = new FileReader();
                reader.onload = () => {
                    const dataUrl = reader.result;

                    const dialogImg = document.querySelector('.Signup_Upload_Profile_Dialog img');
                    if (dialogImg) {
                        dialogImg.src = dataUrl;
                        dialogImg.alt = file.name || 'Profile picture';
                        dialogImg.dataset.selected = '1';
                    }

                    const bubbleBtnImg = document.getElementById('Signup_Profile_Options_Button') ||
                                         document.querySelector('.Signup_Profile_Bubble img');
                    if (bubbleBtnImg) {
                        bubbleBtnImg.src = dataUrl;
                        bubbleBtnImg.alt = file.name || 'Profile picture';
                        bubbleBtnImg.dataset.selected = '1';
                    }

                    try {
                        const evt = new CustomEvent('profilePictureChosen', { detail: { file, dataUrl } });
                        document.dispatchEvent(evt);
                    } catch (e) {}

                    input.remove();
                };

                reader.onerror = () => {
                    alert('Failed to read image file.');
                    input.remove();
                };

                reader.readAsDataURL(file);
            }, { once: true });

            input.click();
        });
    })();

    // Prevent Profile Image Stretching
    (function(){
        const s = document.createElement('style');
        s.textContent = `
            .Signup_Profile_Bubble img,
            .Signup_Upload_Profile_Dialog img,
            .Verification_Window_Profile img,
            .Signup_Upload_Profile_Dialog_Profile_Pic img {
                width: 100% !important;
                height: 100% !important;
                object-fit: cover !important;
                object-position: center center !important;
                display: block !important;
            }
        `;
        document.head.appendChild(s);

        function enforceNoStretch(sel) {
            document.querySelectorAll(sel).forEach(img => {
                try{
                    img.style.width = '100%';
                    img.style.height = '100%';
                    img.style.objectFit = 'cover';
                    img.style.objectPosition = 'center';
                    img.style.display = 'block';
                }catch(e){}
            });
        }

        ['.Signup_Profile_Bubble img',
         '.Signup_Upload_Profile_Dialog img',
         '.Verification_Window_Profile img',
         '.Signup_Upload_Profile_Dialog_Profile_Pic img'
        ].forEach(enforceNoStretch);

        document.addEventListener('profilePictureChosen', () => {
            ['#Signup_Profile_Options_Button',
             '.Signup_Profile_Bubble img',
             '.Signup_Upload_Profile_Dialog img',
             '.Verification_Window_Profile img'
            ].forEach(enforceNoStretch);
        });

        const mo = new MutationObserver((muts) => {
            muts.forEach(m => {
                if (m.addedNodes && m.addedNodes.length) {
                    m.addedNodes.forEach(n => {
                        if (n.nodeType === 1) {
                            if (n.matches && n.matches('img')) {
                                enforceNoStretch('img');
                            } else {
                                enforceNoStretch('.Signup_Profile_Bubble img');
                                enforceNoStretch('.Signup_Upload_Profile_Dialog img');
                                enforceNoStretch('.Verification_Window_Profile img');
                            }
                        }
                    });
                }
            });
        });
        mo.observe(document.body, { childList: true, subtree: true });
    })();

    // Set Profile Picture
    (function(){
        let btn = document.getElementById('Signup_Set_Picture');
        if (!btn) {
            const dialog = document.querySelector('.Signup_Upload_Profile_Dialog');
            if (dialog) {
                btn = Array.from(dialog.querySelectorAll('button')).find(b => (b.id && b.id.startsWith('Signup_Set_Picture')) || b.textContent.trim().toLowerCase() === 'set profile');
            }
            if (!btn) btn = document.querySelector('button[id^="Signup_Set_Picture"]') || null;
        }
        if (!btn) return;

        btn.addEventListener('click', (ev) => {
            ev.preventDefault();
            const dialog = document.querySelector('.Signup_Upload_Profile_Dialog');
            if (!dialog) return;

            const dialogImg = dialog.querySelector('img');
            if (!dialogImg || !dialogImg.src) {
                dialog.style.display = 'none';
                return;
            }

            const bubbleBtnImg = document.getElementById('Signup_Profile_Options_Button') || document.querySelector('.Signup_Profile_Bubble img');
            if (bubbleBtnImg) {
                bubbleBtnImg.src = dialogImg.src;
                bubbleBtnImg.alt = dialogImg.alt || 'Profile picture';
                bubbleBtnImg.dataset.selected = '1';
            }

            const verificationImg = document.querySelector('.Verification_Window_Profile img');
            if (verificationImg) {
                verificationImg.src = dialogImg.src;
                verificationImg.alt = dialogImg.alt || '';
                verificationImg.dataset.selected = '1';
            }

            document.querySelectorAll('.Signup_Profile_Bubble img, .Signup_Upload_Profile_Dialog img, #Signup_Profile_Options_Button, .Verification_Window_Profile img')
                .forEach(img => {
                    try {
                        if (img !== dialogImg && img.tagName === 'IMG') {
                            img.src = dialogImg.src;
                        }
                    } catch(e){}
                });

            dialog.style.display = 'none';

            try { document.dispatchEvent(new CustomEvent('profilePictureChosen', { detail: { src: dialogImg.src } })); } catch(e){}
            try { document.dispatchEvent(new CustomEvent('profilePictureConfirmed', { detail: { src: dialogImg.src } })); } catch(e){}
        }, { passive: true });
    })();

    // ============================================================================
    // SIGNUP - WALLPAPER
    // ============================================================================

    (function(){
        const btn = document.getElementById('Get_Signup_Wallpaper');
        if (!btn) return;

        btn.addEventListener('click', (ev) => {
            ev.preventDefault();
            
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'image/*';
            input.style.display = 'none';
            document.body.appendChild(input);

            input.addEventListener('change', () => {
                const file = input.files && input.files[0];
                if (!file) {
                    input.remove();
                    return;
                }
                if (!file.type.startsWith('image/')) {
                    alert('Please select an image file.');
                    input.remove();
                    return;
                }

                const reader = new FileReader();
                reader.onload = () => {
                    const dataUrl = reader.result;

                    const wallpaperImg = document.querySelector('.Signup_Wallpaper_Container img');
                    if (wallpaperImg) {
                        wallpaperImg.src = dataUrl;
                        wallpaperImg.alt = file.name || 'Custom wallpaper';
                    }

                    try {
                        const evt = new CustomEvent('signupWallpaperChosen', { detail: { file, dataUrl } });
                        document.dispatchEvent(evt);
                    } catch (e) {}

                    input.remove();
                };

                reader.onerror = () => {
                    alert('Failed to read image file.');
                    input.remove();
                };

                reader.readAsDataURL(file);
            }, { once: true });

            input.click();
        });
    })();

    // ============================================================================
    // FORGOT PASSWORD
    // ============================================================================

    // Open Forgot Password Dialog
    (function(){
        const openBtn = document.getElementById('Open_Forgot_Password');
        const dialog = document.querySelector('.Forgot_Password_Dialog');
        if (!openBtn || !dialog) return;

        function centerAndShow(el){
            el.style.display = 'flex';
            el.style.position = 'absolute';
            const rect = el.getBoundingClientRect();
            const bodyRect = document.body.getBoundingClientRect();
            el.style.left = Math.max(0, (bodyRect.width - rect.width) / 2) + 'px';
            el.style.top  = Math.max(0, (bodyRect.height - rect.height) / 2) + 'px';
            try { if (typeof bringToFront === 'function') bringToFront(el); } catch(e){}
            const first = el.querySelector('input, button, [tabindex]');
            if (first && typeof first.focus === 'function') first.focus();
        }

        openBtn.addEventListener('click', (ev) => {
            ev.preventDefault();
            ev.stopPropagation();
            centerAndShow(dialog);
        }, false);

        const closeBtn = document.getElementById('Close_Forgot_Password_Dialog');
        if (closeBtn) closeBtn.addEventListener('click', () => { dialog.style.display = 'none'; });
    })();

    // Show Password Dialog
    (function(){
        const openBtn = document.getElementById('Open_Forgot_Password_Show_Password_Dialog');
        const dialog = document.querySelector('.Forgot_Password_Show_Password_Dialog');
        const closeBtn = document.getElementById('Close_Forgot_Password_Show_Password_Dialog');
        if (!openBtn || !dialog) return;

        function showDialog() {
            dialog.style.display = 'flex';
            dialog.style.position = 'fixed';
            dialog.style.left = '50%';
            dialog.style.top = '50%';
            dialog.style.transform = 'translate(-50%, -50%)';
            dialog.style.zIndex = '99999';
            try { if (typeof bringToFront === 'function') bringToFront(dialog); } catch (e) {}
            const focusTarget = dialog.querySelector('button, [tabindex], input');
            if (focusTarget && typeof focusTarget.focus === 'function') focusTarget.focus();
        }

        function hideDialog() {
            dialog.style.display = 'none';
        }

        openBtn.addEventListener('click', (ev) => {
            ev.preventDefault();
            ev.stopPropagation();
            showDialog();
        }, false);

        if (closeBtn) {
            closeBtn.addEventListener('click', () => hideDialog(), false);
        }

        document.addEventListener('keydown', (ev) => {
            if (ev.key === 'Escape' && getComputedStyle(dialog).display !== 'none') hideDialog();
        });
    })();

    // ============================================================================
    // NAVIGATION
    // ============================================================================

    (function(){
        const goHomeBtn = document.getElementById('Go_Home_Button');
        if (!goHomeBtn) return;

        goHomeBtn.addEventListener('click', (ev) => {
            ev.preventDefault();
            window.location.href = 'Home.html';
        });
    })();

    
    
</script>

<script src="Essentials.js"></script>


